/*
 * softwareTimer.c
 *
 *  Created on: Oct 10, 2023
 *      Author: Acer
 */


#include "softwareTimer.h"

int timerCounter0 = 0;
int flag0 = 0;

int timerCounter1 = 0;
int flag1 = 0;

int timerCounter2 = 0;
int flag2 = 0;

int cycle = 10;

void setCycle(int userCycle) {
	cycle = userCycle;
}

void setTimer0(int duration) {
	timerCounter0 = duration/cycle;
	flag0 = 0;
}
void setTimer1(int duration) {
	timerCounter1 = duration/cycle;
	flag1 = 0;
}
void setTimer2(int duration) {
	timerCounter2 = duration/cycle;
	flag2 = 0;
}

void timerRun() {
	if(timerCounter0 > 0) {
		timerCounter0--;
		if(timerCounter0 <= 0) {
			flag0 = 1;
		}
	}
	if(timerCounter1 > 0) {
		timerCounter1--;
		if(timerCounter1 <= 0) {
			flag1 = 1;
		}
	}
	if(timerCounter2 > 0) {
		timerCounter2--;
		if(timerCounter2 <= 0) {
			flag2 = 1;
		}
	}
}

